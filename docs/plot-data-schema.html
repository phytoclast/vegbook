<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Plot Data Schema | Essentials of Vegetation Data</title>
  <meta name="description" content="This is a brief instruction manual of how to inventory vegetation, and how to process and analyse vegetation data." />
  <meta name="generator" content="bookdown 0.33 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Plot Data Schema | Essentials of Vegetation Data" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is a brief instruction manual of how to inventory vegetation, and how to process and analyse vegetation data." />
  <meta name="github-repo" content="phytoclast/vegbook" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Plot Data Schema | Essentials of Vegetation Data" />
  
  <meta name="twitter:description" content="This is a brief instruction manual of how to inventory vegetation, and how to process and analyse vegetation data." />
  

<meta name="author" content="Greg J. Schmidt" />


<meta name="date" content="2023-03-21" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="vegetation-databases.html"/>
<link rel="next" href="composition.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Essentials of Vegetation Data</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> cover-image: path to the social sharing image like images/cover.jpg</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#strata"><i class="fa fa-check"></i><b>1.1</b> Strata</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="sampling-intensity.html"><a href="sampling-intensity.html"><i class="fa fa-check"></i><b>2</b> Sampling Intensity</a>
<ul>
<li class="chapter" data-level="" data-path="sampling-intensity.html"><a href="sampling-intensity.html#principles"><i class="fa fa-check"></i>Principles:</a></li>
<li class="chapter" data-level="2.1" data-path="sampling-intensity.html"><a href="sampling-intensity.html#tier-1"><i class="fa fa-check"></i><b>2.1</b> Tier 1</a>
<ul>
<li class="chapter" data-level="" data-path="sampling-intensity.html"><a href="sampling-intensity.html#additional-option-for-biodiversity"><i class="fa fa-check"></i>Additional option for biodiversity</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="sampling-intensity.html"><a href="sampling-intensity.html#tier-2"><i class="fa fa-check"></i><b>2.2</b> Tier 2</a>
<ul>
<li class="chapter" data-level="" data-path="sampling-intensity.html"><a href="sampling-intensity.html#additional-option-for-trees"><i class="fa fa-check"></i>Additional option for trees</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="sampling-intensity.html"><a href="sampling-intensity.html#tier-3"><i class="fa fa-check"></i><b>2.3</b> Tier 3</a>
<ul>
<li class="chapter" data-level="" data-path="sampling-intensity.html"><a href="sampling-intensity.html#additional-options-for-dead-structure"><i class="fa fa-check"></i>Additional options for dead structure</a></li>
<li class="chapter" data-level="" data-path="sampling-intensity.html"><a href="sampling-intensity.html#additional-options-for-carbon-sequestration-potentialproductivity-and-grazing"><i class="fa fa-check"></i>Additional options for carbon sequestration potential/productivity and grazing</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="vegetation-databases.html"><a href="vegetation-databases.html"><i class="fa fa-check"></i><b>3</b> Vegetation Databases</a>
<ul>
<li class="chapter" data-level="3.1" data-path="vegetation-databases.html"><a href="vegetation-databases.html#veglog-ms-access-database"><i class="fa fa-check"></i><b>3.1</b> VegLog MS Access Database</a>
<ul>
<li class="chapter" data-level="" data-path="vegetation-databases.html"><a href="vegetation-databases.html#site-data"><i class="fa fa-check"></i>Site data</a></li>
<li class="chapter" data-level="" data-path="vegetation-databases.html"><a href="vegetation-databases.html#taxon-data"><i class="fa fa-check"></i>Taxon data</a></li>
<li class="chapter" data-level="" data-path="vegetation-databases.html"><a href="vegetation-databases.html#other-vegetation-details-and-processing"><i class="fa fa-check"></i>Other Vegetation details and processing</a></li>
<li class="chapter" data-level="" data-path="vegetation-databases.html"><a href="vegetation-databases.html#reports-conversions-to-nasis"><i class="fa fa-check"></i>Reports (conversions to NASIS)</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="vegetation-databases.html"><a href="vegetation-databases.html#vegetation-plot-object-in-nasis"><i class="fa fa-check"></i><b>3.2</b> Vegetation Plot Object in NASIS</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="plot-data-schema.html"><a href="plot-data-schema.html"><i class="fa fa-check"></i><b>4</b> Plot Data Schema</a></li>
<li class="chapter" data-level="5" data-path="composition.html"><a href="composition.html"><i class="fa fa-check"></i><b>5</b> Composition</a>
<ul>
<li class="chapter" data-level="5.1" data-path="composition.html"><a href="composition.html#data-processing"><i class="fa fa-check"></i><b>5.1</b> Data Processing</a></li>
<li class="chapter" data-level="5.2" data-path="composition.html"><a href="composition.html#associations"><i class="fa fa-check"></i><b>5.2</b> Associations</a></li>
<li class="chapter" data-level="5.3" data-path="composition.html"><a href="composition.html#cluster-analysis"><i class="fa fa-check"></i><b>5.3</b> Cluster Analysis</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="structure.html"><a href="structure.html"><i class="fa fa-check"></i><b>6</b> Structure</a>
<ul>
<li class="chapter" data-level="6.1" data-path="structure.html"><a href="structure.html#data-processing-1"><i class="fa fa-check"></i><b>6.1</b> Data Processing</a></li>
<li class="chapter" data-level="6.2" data-path="structure.html"><a href="structure.html#structure-summary"><i class="fa fa-check"></i><b>6.2</b> Structure Summary</a></li>
<li class="chapter" data-level="6.3" data-path="structure.html"><a href="structure.html#structure-profile"><i class="fa fa-check"></i><b>6.3</b> Structure Profile</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/phytoclast/vegbook" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Essentials of Vegetation Data</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="plot-data-schema" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">Chapter 4</span> Plot Data Schema<a href="plot-data-schema.html#plot-data-schema" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Several vegnasis functions require data frames with a predefined standard set of column names to operate.</p>
<p>The <strong>pre.fill.veg()</strong> was designed to allow the user to process any data frame by filter out extraneous data columns and append any missing columns. Prior to using this function, steps are initially taken to manually assign existing data to a standardized column names as much as possible. User has a responsibility to convert any legacy units of measure to SI (metric system) for subsequent analyses to be scaled properly. Conversions to USC units, if desired, should take place only as a final step after analysis.</p>
<p>The <strong>clean.veg()</strong> function can read the column names as they exist in NASIS and make the appropriate assignments and unit conversions.</p>
<p><strong>plot</strong> = Unique identifer for plot.</p>
<p><strong>label</strong> = Convenient contextual name for plot.</p>
<p><strong>symbol</strong> = USDA PLANTS symbol.</p>
<p><strong>taxon</strong> = Species (binomial), and sometimes genus, subspecies, or varieties.</p>
<p><strong>type</strong> = Growth habit or form such as ‘tree’, ‘shrub/vine’, ‘grass/grasslike’, ‘forb’, ‘moss’, etc.</p>
<p><strong>nativity</strong> = ‘native’ or ‘introduced’ status within the geographic area or the plot.</p>
<p><strong>cover</strong> = crown or canopy cover (not the same as foliar cover).</p>
<p><strong>stratum.min</strong> = minimum height range (m) of stratum considered to be occupied by this taxon.</p>
<p><strong>stratum.max</strong> = maximum height range (m) of stratum considered to be occupied by this taxon.</p>
<p><strong>crown.min</strong> = bottom height (m) of live canopy for members of this taxon occupying this stratum.</p>
<p><strong>crown.max</strong> = top height (m) of live canopy for members of this taxon occupying this stratum.</p>
<p><strong>diam.min</strong> = mimimum diameter (cm) of trees measured (usually at “breast height”, 1.37 or 1.4 m above the grown, a.k.a. ‘DBH’).</p>
<p><strong>diam.max</strong> = maximum diameter (cm) of trees measured (usually at “breast height”, 1.37 or 1.4 m above the grown, a.k.a. ‘DBH’).</p>
<p><strong>diam</strong>* = mean diameter (cm) of trees measured using a variable radius plot (BA prism) or quadratic mean diameter of all trees within a fixed plot. Defaults to a mean of the maximum and minimum diameter if not all trees were measured.</p>
<p><strong>BA</strong> = basal area (square meters per hectare).</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="plot-data-schema.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(vegnasis)</span>
<span id="cb1-2"><a href="plot-data-schema.html#cb1-2" aria-hidden="true" tabindex="-1"></a>obsite <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;plot1&#39;</span>,<span class="st">&#39;plot1&#39;</span>,<span class="st">&#39;plot1&#39;</span>, <span class="st">&#39;plot2&#39;</span>, <span class="st">&#39;plot2&#39;</span>)</span>
<span id="cb1-3"><a href="plot-data-schema.html#cb1-3" aria-hidden="true" tabindex="-1"></a> obsspp <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;Acer rubrum&#39;</span>,<span class="st">&#39;Pinus strobus&#39;</span>,<span class="st">&#39;Pteridium aquilinum&#39;</span>, <span class="st">&#39;Lindera benzoin&#39;</span>, <span class="st">&#39;Trillium grandiflorum&#39;</span>)</span>
<span id="cb1-4"><a href="plot-data-schema.html#cb1-4" aria-hidden="true" tabindex="-1"></a> abund <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">80</span>,<span class="dv">10</span>,<span class="dv">30</span>,<span class="dv">10</span>,<span class="dv">10</span>)</span>
<span id="cb1-5"><a href="plot-data-schema.html#cb1-5" aria-hidden="true" tabindex="-1"></a> mydata <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">obsite=</span>obsite, <span class="at">obsspp=</span>obsspp, <span class="at">abund=</span>abund)</span>
<span id="cb1-6"><a href="plot-data-schema.html#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="plot-data-schema.html#cb1-7" aria-hidden="true" tabindex="-1"></a> <span class="co">#Identify columns containing data corresponding to standard column names.</span></span>
<span id="cb1-8"><a href="plot-data-schema.html#cb1-8" aria-hidden="true" tabindex="-1"></a> mydata <span class="ot">&lt;-</span> mydata <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">taxon=</span>obsspp, <span class="at">cover=</span>abund, <span class="at">plot=</span>obsite)</span>
<span id="cb1-9"><a href="plot-data-schema.html#cb1-9" aria-hidden="true" tabindex="-1"></a> veg <span class="ot">&lt;-</span> mydata <span class="sc">|&gt;</span> <span class="fu">pre.fill.veg</span>()</span>
<span id="cb1-10"><a href="plot-data-schema.html#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="plot-data-schema.html#cb1-11" aria-hidden="true" tabindex="-1"></a> knitr<span class="sc">::</span><span class="fu">kable</span>(</span>
<span id="cb1-12"><a href="plot-data-schema.html#cb1-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(veg, <span class="dv">10</span>), <span class="at">booktabs =</span> <span class="cn">TRUE</span>,</span>
<span id="cb1-13"><a href="plot-data-schema.html#cb1-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">&#39;A table of rudimentary veg data.&#39;</span></span>
<span id="cb1-14"><a href="plot-data-schema.html#cb1-14" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-1">Table 4.1: </span>A table of rudimentary veg data.</caption>
<colgroup>
<col width="4%" />
<col width="4%" />
<col width="5%" />
<col width="16%" />
<col width="3%" />
<col width="6%" />
<col width="4%" />
<col width="9%" />
<col width="9%" />
<col width="7%" />
<col width="7%" />
<col width="6%" />
<col width="6%" />
<col width="3%" />
<col width="2%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">plot</th>
<th align="left">label</th>
<th align="left">symbol</th>
<th align="left">taxon</th>
<th align="left">type</th>
<th align="left">nativity</th>
<th align="right">cover</th>
<th align="right">stratum.min</th>
<th align="right">stratum.max</th>
<th align="right">crown.min</th>
<th align="right">crown.max</th>
<th align="right">diam.min</th>
<th align="right">diam.max</th>
<th align="right">diam</th>
<th align="right">BA</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">plot1</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">Acer rubrum</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">80</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">plot1</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">Pinus strobus</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">10</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">plot1</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">Pteridium aquilinum</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">30</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">plot2</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">Lindera benzoin</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">10</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">plot2</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">Trillium grandiflorum</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">10</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
</tbody>
</table>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="vegetation-databases.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="composition.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/phytoclast/vegbook03a-BasicData.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["vegbook1.pdf", "vegbook1.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
